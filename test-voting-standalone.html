<!DOCTYPE html>
<html>
<head>
    <title>Voting Standalone Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .name-item { 
            border: 1px solid #ccc; 
            padding: 10px; 
            margin: 5px; 
            display: inline-block; 
            cursor: pointer;
        }
        .heart-btn { font-size: 24px; cursor: pointer; }
        .liked { color: red; }
        #status { margin: 20px 0; padding: 10px; background: #f0f0f0; }
        .error { color: red; }
        .success { color: green; }
    </style>
</head>
<body>
    <h1>üó≥Ô∏è Standalone Voting Test</h1>
    <div id="status">Loading...</div>
    <div id="name-list"></div>
    <button id="test-btn" disabled>Test Voting</button>
    
    <script>
    // Embedded config for testing
    const CONFIG = {
        BABY_NAMES: ['Emma', 'Olivia', 'Sophia', 'Charlotte', 'Amelia', 'Ava', 'Mia', 'Isabella', 'Lily', 'Harper'],
        UI: { MAX_VOTES_PER_GUEST: 3 }
    };
    
    // Voting logic
    let selectedVotes = [];
    
    function initializeVoting() {
        try {
            document.getElementById('status').innerHTML = '<span class="success">‚úÖ initializeVoting() called</span>';
            
            const nameList = document.getElementById('name-list');
            
            if (!CONFIG || !CONFIG.BABY_NAMES) {
                throw new Error('CONFIG.BABY_NAMES not found');
            }
            
            // Clear and populate
            nameList.innerHTML = '';
            CONFIG.BABY_NAMES.forEach((name, index) => {
                const item = document.createElement('div');
                item.className = 'name-item';
                item.innerHTML = `
                    <span class="name">${name}</span> 
                    <span class="heart-btn" onclick="toggleVote('${name}', this)">ü§ç</span>
                `;
                nameList.appendChild(item);
            });
            
            document.getElementById('status').innerHTML += '<br><span class="success">‚úÖ Created ' + CONFIG.BABY_NAMES.length + ' name items</span>';
            document.getElementById('test-btn').disabled = false;
            document.getElementById('test-btn').innerText = 'Voting Works! (' + CONFIG.BABY_NAMES.length + ' names loaded)';
            
        } catch (error) {
            document.getElementById('status').innerHTML = '<span class="error">‚ùå Error: ' + error.message + '</span>';
            document.getElementById('status').innerHTML += '<br><pre>' + error.stack + '</pre>';
        }
    }
    
    function toggleVote(name, button) {
        const index = selectedVotes.indexOf(name);
        
        if (index > -1) {
            selectedVotes.splice(index, 1);
            button.textContent = 'ü§ç';
            button.classList.remove('liked');
        } else {
            if (selectedVotes.length >= CONFIG.UI.MAX_VOTES_PER_GUEST) {
                alert('Max ' + CONFIG.UI.MAX_VOTES_PER_GUEST + ' votes');
                return;
            }
            selectedVotes.push(name);
            button.textContent = '‚ù§Ô∏è';
            button.classList.add('liked');
        }
        
        document.getElementById('test-btn').innerText = 
            'Submit ' + selectedVotes.length + ' Vote' + (selectedVotes.length !== 1 ? 's' : '') + ' ‚ù§Ô∏è';
    }
    
    // Run test immediately
    setTimeout(initializeVoting, 100);
    </script>
</body>
</html>
